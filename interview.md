1. jsæŸ¥è¯¢ä¸€ä¸ªå­—ç¬¦ä¸²å†…å‡ºç°æ¬¡æ•°æœ€å¤šçš„å­—æ¯

å­—ç¬¦ä¸² str = "ahasdaskdasdasjdnas";
é—®é¢˜ï¼šå°†æ­¤å­—ç¬¦ä¸²å‡ºç°æ¬¡æ•°æœ€å¤šçš„å­—æ¯æ‰“å°å‡ºæ¥ï¼›

æ€è·¯ï¼šç”³è¯·ä¸€ä¸ªjsonå¯¹è±¡ï¼Œéå†å­—ç¬¦ä¸²å°†å­—ç¬¦ä¸²çš„å­—æ¯ä½œä¸ºå±æ€§æ·»åŠ åˆ°jsonå¯¹è±¡ä¸Šï¼Œå­—æ¯å‡ºç°çš„æ¬¡æ•°åšå±æ€§å€¼ï¼›

éå†å¯¹è±¡å±æ€§ï¼Œå°†å±æ€§å€¼æœ€å¤§çš„æ‰“å°å³å¯ charAt()
charAt() æ–¹æ³•ä»ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­è¿”å›æŒ‡å®šçš„å­—ç¬¦ã€‚
```js
var json = {};
for( var j = 0; j < str.length; j++) {
  if (!json[charAt(j)]) {
    json[str.charAt(j)] = 1;
  } else {
    json[str.charAt(j)]++;
  }
}
// ç”¨ä¸€ä¸ªforå¾ªç¯è¿›æ‰€æœ‰çš„å­—ç¬¦ä¸²å…ƒç´ æ”¾åœ¨ä¸€ä¸ªjsonå¯¹è±¡ä¸­å½“ä½å±æ€§ï¼Œå¯¹è±¡çš„å±æ€§å€¼å°±æ˜¯å‡ºç°çš„ä¸ªæ•°
console.log(json)
var iMax = 0;
var iIndex = '';
for (var i in json) {
  // for in éå†è¯¥å¯¹è±¡ï¼Œå¹¶ä¾æ¬¡æ¯”è¾ƒå±æ€§å€¼æœ€å¤§çš„å€¼å¹¶è¾“å‡ºè¯¥å±æ€§å³å¯
  if (json[i] > iMax) {
    iMax = json[i];
    iIndex = i;
  }
}

document.write('å‡ºç°æ¬¡æ•°æœ€å¤šçš„æ˜¯'+iIndex+'å‡ºç°äº†'+iMax+'æ¬¡');
```
## äº‹ä»¶å§”æ‰˜
äº‹ä»¶å§”æ‰˜å°±æ˜¯åˆ©ç”¨äº‹ä»¶å†’æ³¡ï¼ŒåªæŒ‡å®šä¸€ä¸ªäº‹ä»¶å¤„ç†ç¨‹åºï¼Œå°±å¯ä»¥ç®¡ç†æŸä¸€ç±»å‹çš„æ‰€æœ‰äº‹ä»¶ã€‚

**é—®é¢˜**
æ¯”å¦‚æˆ‘ä»¬æœ‰100ä¸ªliï¼Œæ¯ä¸ªliéƒ½æœ‰ç›¸åŒçš„clickç‚¹å‡»äº‹ä»¶ï¼Œå¯èƒ½æˆ‘ä»¬ä¼šç”¨forå¾ªç¯çš„æ–¹æ³•ï¼Œæ¥éå†æ‰€æœ‰çš„liï¼Œç„¶åç»™å®ƒä»¬æ·»åŠ äº‹ä»¶ï¼Œé‚£è¿™ä¹ˆåšä¼šå­˜åœ¨ä»€ä¹ˆå½±å“å‘¢ï¼Ÿ

**å¥½å¤„ï¼š**
å‡å°‘DOMæ“ä½œï¼Œå°†æ‰€æœ‰çš„DOMæ“ä½œæ”¾åˆ°jsç¨‹åºé‡Œé¢ï¼Œä¸domæ“ä½œçš„å°±åªéœ€è¦äº¤äº’ä¸€æ¬¡ï¼Œè¿™æ ·å°±èƒ½å¤§å¤§å‡å°‘ä¸domçš„äº¤äº’æ¬¡æ•°ï¼Œæé«˜æ€§èƒ½ã€‚


æ¯ä¸ªå‡½æ•°éƒ½æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæ˜¯å¯¹è±¡å°±ä¼šå ç”¨å†…å­˜ï¼Œå¯¹è±¡è¶Šå¤šï¼Œå†…å­˜å ç”¨ç‡å°±è¶Šå¤§ï¼Œè‡ªç„¶æ€§èƒ½å°±è¶Šå·®äº†ï¼ˆå†…å­˜ä¸å¤Ÿç”¨ï¼Œæ˜¯ç¡¬ä¼¤ï¼Œå“ˆå“ˆï¼‰ï¼Œæ¯”å¦‚ä¸Šé¢çš„100ä¸ªliï¼Œå°±è¦å ç”¨100ä¸ªå†…å­˜ç©ºé—´ï¼Œå¦‚æœæ˜¯1000ä¸ªï¼Œ10000ä¸ªå‘¢ï¼Œé‚£åªèƒ½è¯´å‘µå‘µäº†ï¼Œå¦‚æœç”¨äº‹ä»¶å§”æ‰˜ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥åªå¯¹å®ƒçš„çˆ¶çº§ï¼ˆå¦‚æœåªæœ‰ä¸€ä¸ªçˆ¶çº§ï¼‰è¿™ä¸€ä¸ªå¯¹è±¡è¿›è¡Œæ“ä½œï¼Œè¿™æ ·æˆ‘ä»¬å°±éœ€è¦ä¸€ä¸ªå†…å­˜ç©ºé—´å°±å¤Ÿäº†ï¼Œæ˜¯ä¸æ˜¯çœäº†å¾ˆå¤šï¼Œè‡ªç„¶æ€§èƒ½å°±ä¼šæ›´å¥½ã€‚

**äº‹ä»¶å§”æ‰˜åŸç†**
äº‹ä»¶å§”æ‰˜æ˜¯åˆ©ç”¨äº‹ä»¶çš„å†’æ³¡åŸç†æ¥å®ç°çš„ï¼Œäº‹ä»¶å†’æ³¡ï¼šäº‹ä»¶ä»æœ€æ·±çš„èŠ‚ç‚¹å¼€å§‹ï¼Œç„¶åé€æ­¥å‘ä¸Šä¼ æ’­äº‹ä»¶ï¼Œä¸¾ä¸ªä¾‹å­ï¼š é¡µé¢ä¸Šæœ‰è¿™ä¹ˆä¸€ä¸ªèŠ‚ç‚¹æ ‘ï¼Œdiv>ul>li>a;æ¯”å¦‚ç»™æœ€é‡Œé¢çš„aåŠ ä¸€ä¸ªclickç‚¹å‡»äº‹ä»¶ï¼Œé‚£ä¹ˆè¿™ä¸ªäº‹ä»¶å°±ä¼šä¸€å±‚ä¸€å±‚çš„å¾€å¤–æ‰§è¡Œï¼Œæ‰§è¡Œé¡ºåºa>li>ul>divï¼Œæœ‰è¿™æ ·ä¸€ä¸ªæœºåˆ¶ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç»™æœ€å¤–é¢çš„divåŠ ç‚¹å‡»äº‹ä»¶ï¼Œé‚£ä¹ˆé‡Œé¢çš„ulï¼Œliï¼Œaåšç‚¹å‡»äº‹ä»¶çš„æ—¶å€™ï¼Œéƒ½ä¼šå†’æ³¡åˆ°æœ€å¤–å±‚çš„divä¸Šï¼Œæ‰€ä»¥éƒ½ä¼šè§¦å‘ï¼Œè¿™å°±æ˜¯äº‹ä»¶å§”æ‰˜ï¼Œå§”æ‰˜å®ƒä»¬çˆ¶çº§ä»£ä¸ºæ‰§è¡Œäº‹ä»¶ã€‚

## ç¼“å­˜
è¯·æ±‚èµ„æºçš„å‰¯æœ¬
ä¼˜ç‚¹ï¼š
1. ç¼“è§£æœåŠ¡å™¨å‹åŠ›ï¼ˆä¸ç”¨æ¯æ¬¡å»è¯·æ±‚èµ„æºï¼‰
2. æå‡æ€§èƒ½
3. å‡å°‘å¸¦å®½æ¶ˆè€—

ç¼“å­˜ï¼š 
å®è§‚ä¸Šåˆ†ä¸º ç§æœ‰ç¼“å­˜ï¼ˆç”¨æˆ·ä¸“äº«çš„ï¼Œå„çº§ä»£ç†ä¸èƒ½ç¼“å­˜çš„ç¼“å­˜ï¼‰+ å…±äº«ç¼“å­˜ï¼ˆå„çº§ä»£ç†ç¼“å­˜çš„ç¼“å­˜ï¼‰

å¾®è§‚ä¸Šåˆ†ä¸º 1. æµè§ˆå™¨ç¼“å­˜ 2. ä»£ç†æœåŠ¡å™¨ç¼“å­˜ 3. ç½‘ç®¡ç¼“å­˜ 4. æ•°æ®åº“ç¼“å­˜

1. æµè§ˆå™¨ç¼“å­˜ï¼š 
ç¼“å­˜å­˜åœ¨çš„æ„ä¹‰å°±æ˜¯å½“ç”¨æˆ·ç‚¹å‡»backæŒ‰é’®æˆ–æ˜¯å†æ¬¡å»è®¿é—®æŸä¸ªé¡µé¢çš„æ—¶å€™èƒ½å¤Ÿæ›´å¿«çš„å“åº”ã€‚å°¤å…¶æ˜¯åœ¨å¤šé¡µåº”ç”¨çš„ç½‘ç«™ä¸­ï¼Œå¦‚æœä½ åœ¨å¤šä¸ªé¡µé¢ä½¿ç”¨äº†ä¸€å¼ ç›¸åŒçš„å›¾ç‰‡ï¼Œé‚£ä¹ˆç¼“å­˜è¿™å¼ å›¾ç‰‡å°±å˜å¾—ç‰¹åˆ«çš„æœ‰ç”¨ã€‚

2. ä»£ç†æœåŠ¡å™¨ç¼“å­˜ï¼š
è§„æ¨¡è¦å¤§å¾—å¤šï¼Œå› ä¸ºæ˜¯ä¸ºæˆåƒä¸Šä¸‡çš„ç”¨æˆ·æä¾›ç¼“å­˜æœºåˆ¶ï¼Œå¤§å…¬å¸å’Œå¤§å‹çš„ISPæä¾›å•†é€šå¸¸ä¼šå°†å®ƒä»¬è®¾ç«‹åœ¨é˜²ç«å¢™ä¸Šæˆ–æ˜¯ä½œä¸ºä¸€ä¸ªç‹¬ç«‹çš„è®¾å¤‡æ¥è¿è¥ã€‚(ä¸‹æ–‡å¦‚æœæ²¡æœ‰ç‰¹æ®Šè¯´æ˜,æ‰€æœ‰æåˆ°çš„ç¼“å­˜æœåŠ¡å™¨éƒ½æ˜¯æŒ‡ä»£ç†æœåŠ¡å™¨ã€‚)
ç”±äºç¼“å­˜æœåŠ¡å™¨ä¸æ˜¯å®¢æˆ·ç«¯æˆ–æ˜¯æºæœåŠ¡å™¨çš„ä¸€éƒ¨åˆ†ï¼Œå®ƒä»¬å­˜åœ¨äºç½‘ç»œä¸­ï¼Œè¯·æ±‚è·¯ç”±å¿…é¡»ç»è¿‡å®ƒä»¬æ‰ä¼šç”Ÿæ•ˆï¼Œæ‰€ä»¥å®é™…ä¸Šä½ å¯ä»¥å»æ‰‹åŠ¨è®¾ç½®æµè§ˆå™¨çš„ä»£ç†ï¼Œæˆ–æ˜¯é€šè¿‡ä¸€ä¸ªä¸­é—´æœåŠ¡å™¨æ¥è¿›è¡Œè½¬å‘ï¼Œè¿™æ ·ç”¨æˆ·è‡ªç„¶å°±å¯Ÿè§‰ä¸åˆ°ä»£ç†æœåŠ¡å™¨çš„å­˜åœ¨äº†ã€‚
ä»£ç†æœåŠ¡å™¨ç¼“å­˜å°±æ˜¯ä¸€ä¸ªå…±äº«ç¼“å­˜ï¼Œä¸åªä¸ºä¸€ä¸ªç”¨æˆ·æœåŠ¡ï¼Œç»å¸¸ä¸ºå¤§é‡ç”¨æˆ·ä½¿ç”¨ï¼Œå› æ­¤åœ¨å‡å°‘ç›¸åº”æ—¶é—´å’Œå¸¦å®½ä½¿ç”¨æ–¹é¢å¾ˆæœ‰æ•ˆï¼šå› ä¸ºåŒä¸€ä¸ªç¼“å­˜å¯èƒ½ä¼šè¢«é‡ç”¨å¤šæ¬¡ã€‚

3. ç½‘å…³ç¼“å­˜
ä¹Ÿå«ä»£ç†ç¼“å­˜æˆ–åå‘ä»£ç†ç¼“å­˜ã€‚ç½‘å…³ä¹Ÿæ˜¯ä¸€ä¸ªä¸­é—´æœåŠ¡å™¨ï¼Œç½‘å…³ç¼“å­˜ä¸€èˆ¬æ˜¯ç½‘ç«™ç®¡ç†å‘˜è‡ªå·±éƒ¨ç½²ï¼Œä»è®©ç½‘ç«™æ‹¥æœ‰æ›´å¥½çš„æ€§èƒ½
CDNS(ç½‘ç»œå†…å®¹åˆ†å‘å•†)åˆ†å¸ƒç½‘å…³ç¼“å­˜åˆ°æ•´ä¸ªï¼ˆæˆ–éƒ¨åˆ†ï¼‰äº’è”ç½‘ä¸Šï¼Œå¹¶å‡ºå”®ç¼“å­˜æœåŠ¡ç»™éœ€è¦çš„ç½‘ç«™ï¼Œæ¯”å¦‚å›½å†…çš„ä¸ƒç‰›äº‘ã€åˆæ‹äº‘éƒ½æœ‰è¿™ç§æœåŠ¡ã€‚

4. æ•°æ®åº“ç¼“å­˜
æ•°æ®åº“ç¼“å­˜æ˜¯æŒ‡å½“æˆ‘ä»¬çš„åº”ç”¨æå…¶å¤æ‚ï¼Œè¡¨è‡ªç„¶ä¹Ÿå¾ˆç¹æ‚ï¼Œæˆ‘ä»¬å¿…é¡»è¿›è¡Œé¢‘ç¹çš„è¿›è¡Œæ•°æ®åº“æŸ¥è¯¢ï¼Œè¿™æ ·å¯èƒ½å¯¼è‡´æ•°æ®åº“ä¸å ªé‡è´Ÿï¼Œä¸€ä¸ªå¥½çš„åŠæ³•å°±æ˜¯å°†æŸ¥è¯¢åçš„æ•°æ®æ”¾åˆ°å†…å­˜ä¸­ï¼Œä¸‹ä¸€æ¬¡æŸ¥è¯¢ç›´æ¥ä»å†…å­˜ä¸­å–å°±å¥½äº†ã€‚

### æµè§ˆå™¨çš„ç¼“å­˜ç­–ç•¥
#### ç¼“å­˜çš„ç›®æ ‡
* ä¸€ä¸ªæ£€ç´¢è¯·æ±‚çš„æˆåŠŸå“åº”ï¼š å¯¹äºGETè¯·æ±‚ï¼Œå“åº”çŠ¶æ€ç ï¼š200ï¼Œåˆ™è¡¨ç¤ºæˆåŠŸã€‚ä¸€ä¸ªåŒ…å«ä¾‹å¦‚HTMLæ–‡æ¡£ï¼Œå›¾ç‰‡ï¼Œæˆ–è€…æ–‡ä»¶çš„å“åº”ï¼›
* ä¸å˜çš„é‡å®šå‘ï¼š å“åº”çš„çŠ¶æ€ç 301
* å¯ç”¨ç¼“å­˜å“åº”ï¼šå“åº”çš„çŠ¶æ€ç ï¼š304ï¼ŒChromeä¼šç¼“å­˜304ä¸­çš„ç¼“å­˜è®¾ç½®ï¼ŒFirefox
* é”™è¯¯å“åº”ï¼š å“åº”çŠ¶æ€ç ï¼š 404 çš„ä¸€ä¸ªé¡µé¢
* ä¸å®Œå…¨çš„å“åº”ï¼š å“åº”çŠ¶æ€ç  206ï¼Œ åªè¿”å›å±€éƒ¨çš„ä¿¡æ¯
* é™¤äº†GETè¯·æ±‚å¤–ï¼Œå¦‚æœåŒ¹é…åˆ°ä½œä¸ºä¸€ä¸ªå·²è¢«å®šä¹‰çš„cacheé”®åçš„å“åº”ã€‚

**æµè§ˆå™¨å¯¹äºç¼“å­˜çš„å¤„ç†æ˜¯æ ¹æ®ç¬¬ä¸€æ¬¡è¯·æ±‚èµ„æºæ—¶è¿”å›çš„å“åº”å¤´æ¥ç¡®å®šçš„ã€‚**

```js
Age:23146
Cache-Control:max-age=2592000
Date:Tue, 28 Nov 2017 12:26:41 GMT
ETag:W/"5a1cf09a-63c6"
Expires:Thu, 28 Dec 2017 05:27:45 GMT
Last-Modified:Tue, 28 Nov 2017 05:14:02 GMT
Vary:Accept-Encoding
```
#### å¼ºç¼“å­˜é˜¶æ®µ
ä»¥ä¸Šè¯·æ±‚å¤´æ¥è‡ªç™¾åº¦é¦–é¡µæŸä¸ªCSSæ–‡ä»¶çš„å“åº”å¤´ã€‚æˆ‘å»é™¤äº†ä¸€äº›å’Œç¼“å­˜æ— å…³çš„å­—æ®µï¼Œåªä¿ç•™äº†ä»¥ä¸Šéƒ¨åˆ†ã€‚æˆ‘ä»¬æ¥åˆ†æä¸‹ï¼Œ**Expires**æ˜¯HTTP/1.0ä¸­çš„å®šä¹‰ç¼“å­˜çš„å­—æ®µï¼Œå®ƒè§„å®šäº†ç¼“å­˜è¿‡æœŸçš„ä¸€ä¸ªç»å¯¹æ—¶é—´ã€‚**Cache-Control:max-age=2592000**æ˜¯HTTP/1.1å®šä¹‰çš„å…³äºç¼“å­˜çš„å­—æ®µï¼Œå®ƒè§„å®šäº†ç¼“å­˜è¿‡æœŸçš„ä¸€ä¸ªç›¸å¯¹æ—¶é—´ã€‚ä¼˜å…ˆçº§ä¸Šå½“ç„¶æ˜¯ç‰ˆæœ¬é«˜çš„ä¼˜å…ˆäº†ï¼Œ**max-age > Expires**ã€‚

è¿™å°±æ˜¯**å¼ºç¼“å­˜é˜¶æ®µ**ï¼Œå½“æµè§ˆå™¨å†æ¬¡è¯•å›¾è®¿é—®è¿™ä¸ªCSSæ–‡ä»¶ï¼Œå‘ç°æœ‰è¿™ä¸ªæ–‡ä»¶çš„ç¼“å­˜ï¼Œé‚£ä¹ˆå°±åˆ¤æ–­æ ¹æ®ä¸Šä¸€æ¬¡çš„å“åº”åˆ¤æ–­æ˜¯å¦è¿‡æœŸï¼Œå¦‚æœæ²¡è¿‡æœŸï¼Œä½¿ç”¨ç¼“å­˜ã€‚åŠ è½½æ–‡ä»¶ï¼ŒOVER
Firefoxæµè§ˆå™¨è¡¨ç°ä¸ºä¸€ä¸ªç°è‰²çš„200çŠ¶æ€ç ã€‚
Chromeæµè§ˆå™¨çŠ¶æ€ç è¡¨ç°ä¸º:
> 200 (from disk cache)æˆ–æ˜¯200 OK (from memory cache)
**å¤šè¯´ä¸€ç‚¹**
å…³äºç¼“å­˜æ˜¯ä»ç£ç›˜ä¸­è·å–è¿˜æ˜¯ä»å†…å­˜ä¸­è·å–ï¼ŒæŸ¥æ‰¾äº†å¾ˆå¤šèµ„æ–™ï¼Œå¾—å‡ºäº†ä¸€ä¸ªè¾ƒä¸ºå¯ä¿¡çš„ç»“è®ºï¼šChromeä¼šæ ¹æ®æœ¬åœ°å†…å­˜çš„ä½¿ç”¨ç‡æ¥å†³å®šç¼“å­˜å­˜æ”¾åœ¨å“ªï¼Œå¦‚æœå†…å­˜ä½¿ç”¨ç‡å¾ˆé«˜ï¼Œæ”¾åœ¨ç£ç›˜é‡Œé¢ï¼Œå†…å­˜çš„ä½¿ç”¨ç‡å¾ˆé«˜ä¼šæš‚æ—¶æ”¾åœ¨å†…å­˜é‡Œé¢ã€‚è¿™å°±å¯ä»¥æ¯”è¾ƒåˆç†çš„è§£é‡Šäº†ä¸ºä»€ä¹ˆåŒä¸€ä¸ªèµ„æºæœ‰æ—¶æ˜¯from memory cacheæœ‰æ—¶æ˜¯from disk cacheçš„é—®é¢˜äº†ã€‚
é‚£ä¹ˆå½“è¿™ä¸ªCSSæ–‡ä»¶è¿‡æœŸäº†æ€ä¹ˆåŠ?ETagå’ŒLast-Modifiedå°±è¯¥é—ªäº®ç™»åœºäº†ã€‚
å…ˆè¯´Last-Modifiedï¼Œè¿™ä¸ªå­—æ®µæ˜¯æ–‡ä»¶æœ€åä¸€æ¬¡ä¿®æ”¹çš„æ—¶é—´ï¼›
ETagå‘¢ï¼ŸETagæ˜¯å¯¹æ–‡ä»¶çš„ä¸€ä¸ªæ ‡è®°ï¼Œå—¯ï¼Œå¯ä»¥è¿™ä¹ˆè¯´ï¼Œå…·ä½“ç”Ÿæˆæ–¹å¼HTTPå¹¶æ²¡æœ‰ç»™å‡ºä¸€ä¸ªæ˜ç¡®çš„æ–¹å¼ï¼Œæ‰€ä»¥ç†è®ºä¸Šåªè¦ä¸ä¼šé‡å¤ç”Ÿæˆæ–¹å¼æ— æ‰€è°“ï¼Œæ¯”å¦‚å¯¹èµ„æºå†…å®¹ä½¿ç”¨æŠ—ç¢°æ’æ•£åˆ—å‡½æ•°ï¼Œä½¿ç”¨æœ€è¿‘ä¿®æ”¹çš„æ—¶é—´æˆ³çš„å“ˆå¸Œå€¼ï¼Œç”šè‡³åªæ˜¯ä¸€ä¸ªç‰ˆæœ¬å·ã€‚
#### åå•†ç¼“å­˜
åˆ©ç”¨è¿™ä¸¤ä¸ªå­—æ®µæµè§ˆå™¨å¯ä»¥è¿›å…¥åå•†ç¼“å­˜é˜¶æ®µï¼Œå½“æµè§ˆå™¨å†æ¬¡è¯•å›¾è®¿é—®è¿™ä¸ªCSSæ–‡ä»¶ï¼Œå‘ç°ç¼“å­˜è¿‡æœŸï¼Œäºæ˜¯ä¼šåœ¨æœ¬æ¬¡è¯·æ±‚çš„è¯·æ±‚å¤´é‡Œæºå¸¦`If-Moified-Since`å’Œ`If-None-Match`è¿™ä¸¤ä¸ªå­—æ®µï¼ŒæœåŠ¡å™¨é€šè¿‡è¿™ä¸¤ä¸ªå­—æ®µæ¥åˆ¤æ–­èµ„æºæ˜¯å¦æœ‰ä¿®æ”¹ï¼Œå¦‚æœæœ‰ä¿®æ”¹åˆ™è¿”å›çŠ¶æ€ç 200å’Œæ–°çš„å†…å®¹ï¼Œå¦‚æœæ²¡æœ‰ä¿®æ”¹è¿”å›çŠ¶æ€ç 304ï¼Œæµè§ˆå™¨æ”¶åˆ°200çŠ¶æ€ç ï¼Œè¯¥å’‹å¤„ç†å°±å’‹å¤„ç†(ç›¸å½“äºé¦–æ¬¡è®¿é—®è¿™ä¸ªæ–‡ä»¶äº†)ï¼Œå‘ç°è¿”å›304ï¼Œäºæ˜¯çŸ¥é“äº†æœ¬åœ°ç¼“å­˜è™½ç„¶è¿‡æœŸä½†ä»ç„¶å¯ä»¥ç”¨ï¼Œäºæ˜¯åŠ è½½æœ¬åœ°ç¼“å­˜ã€‚ç„¶åæ ¹æ®æ–°çš„è¿”å›çš„å“åº”å¤´æ¥è®¾ç½®ç¼“å­˜ã€‚(è¿™ä¸€æ­¥æœ‰æ‰€å·®å¼‚ï¼Œå‘ç°ä¸åŒæµè§ˆå™¨çš„å¤„ç†æ˜¯ä¸åŒçš„ï¼Œchromeä¼šä¸º304è®¾ç½®ç¼“å­˜ï¼Œfirefoxåˆ™ä¸ä¼š)ğŸ˜‘
å…·ä½“ä¸¤ä¸ªå­—æ®µæºå¸¦çš„å†…å®¹å¦‚ä¸‹(åˆ†åˆ«å’Œä¸Šé¢çš„`Last-Modified`ã€`ETag`æºå¸¦çš„å€¼å¯¹åº”)ï¼š
```js
If-Modified-Since: Tue, 28 Nov 2017 05:14:02 GMT
If-None-Match: W/"5a1cf09a-63c6"
```
#### å¯å‘å¼ç¼“å­˜é˜¶æ®µ
æˆ‘ä»¬æŠŠä¸Šé¢çš„å“åº”å¤´æ”¹ä¸‹ï¼š
```js
Age:23146
Cache-Control: public
Date:Tue, 28 Nov 2017 12:26:41 GMT
Last-Modified:Tue, 28 Nov 2017 05:14:02 GMT
Vary:Accept-Encoding
```
æµè§ˆå™¨ç”¨æ¥ç¡®å®šç¼“å­˜è¿‡æœŸæ—¶é—´çš„å­—æ®µä¸€ä¸ªéƒ½æ²¡æœ‰ï¼
é‚£è¯¥æ€ä¹ˆåŠï¼Ÿæœ‰äººå¯èƒ½ä¼šè¯´ä¸‹æ¬¡è¯·æ±‚ç›´æ¥è¿›å…¥åå•†ç¼“å­˜é˜¶æ®µï¼Œæºå¸¦If-Moified-Sinceå‘—ï¼Œä¸æ˜¯çš„ï¼Œæµè§ˆå™¨è¿˜æœ‰ä¸ªå¯å‘å¼ç¼“å­˜é˜¶æ®µ
**æ ¹æ®å“åº”å¤´ä¸­2ä¸ªæ—¶é—´å­—æ®µ Date å’Œ Last-Modified ä¹‹é—´çš„æ—¶é—´å·®å€¼ï¼Œå–å…¶å€¼çš„10%ä½œä¸ºç¼“å­˜æ—¶é—´å‘¨æœŸã€‚**
è¿™å°±æ˜¯å¯å‘å¼ç¼“å­˜é˜¶æ®µã€‚è¿™ä¸ªé˜¶æ®µå¾ˆå®¹è®©äººå¿½è§†ï¼Œä½†å®é™…ä¸Šæ¯æ—¶æ¯åˆ»éƒ½åœ¨å‘æŒ¥ç€ä½œç”¨ã€‚æ‰€ä»¥åœ¨ä»Šåçš„å¼€å‘è¿‡ç¨‹ä¸­å¦‚æœé‡åˆ°é‚£ç§é»˜è®¤ç¼“å­˜çš„å‘ï¼Œä¸è¦å«åš£ï¼Œä¸è¦ç”Ÿæ°”ï¼Œæµè§ˆå™¨åªæ˜¯åœ¨éµå¾ªå¯å‘å¼ç¼“å­˜åè®®è€Œå·²ã€‚
![ç¼“å­˜ç­–ç•¥è¿‡ç¨‹](https://user-gold-cdn.xitu.io/2018/1/27/16137f262e0adf18?imageView2/0/w/1280/h/960/format/webp/ignore-error/1)

ğŸ‘Œå¯¹äºç¼“å­˜ç­–ç•¥ä»‹ç»åˆ°è¿™ï¼Œæ¥ä¸‹æ¥å†ç»†ç»†åˆ†æä¸åŒçš„HTTPé¦–éƒ¨å­—æ®µçš„å†…å®¹ï¼Œä»¥åŠå®ƒä»¬ä¹‹é—´çš„å…³ç³»ã€‚

### HTTPä¸­å’Œç¼“å­˜ç›¸å…³çš„é¦–éƒ¨å­—æ®µ
HTTPæŠ¥æ–‡ï¼š
1. é¦–éƒ¨ï¼ˆheaderï¼‰ï¼šåŒ…å«äº†å¾ˆå¤šå­—æ®µï¼Œæ¯”å¦‚: cookie,ç¼“å­˜ï¼Œ æŠ¥æ–‡å¤§å°ï¼Œ æŠ¥æ–‡æ ¼å¼ç­‰ç­‰
2. ä¸»ä½“ï¼ˆbodyï¼‰: HTTPè¯·æ±‚çœŸæ­£éœ€è¦

???




## å›è°ƒå‡½æ•°
[addEventListener](https://developer.mozilla.org/zh-CN/docs/Web/API/EventTarget/addEventListener)
### EventTarget.addEventListener()
> target.addEventListener(type, listener, options);
> target.addEventListener(type, listener ,{capture: Boolean, passive: Boolean, once: Boolean});
> target.addEventListener(type, listener, useCapture);
> target.addEventListener(type, listener[, useCapture, wantsUntrusted  ]); 
#### optionsæ”¯æŒçš„å®‰å…¨ç›‘æµ‹
```js
var passiveSupported = false;

try {
  var options = Object.defineProperty({}, "passive", {
    get: function() {
      passiveSupported = true;
    }
  });

  window.addEventListener("test", null, options);
} catch(err) {}
```
è¿™æ®µä»£ç ä¸º passive å±æ€§åˆ›å»ºäº†ä¸€ä¸ªå¸¦æœ‰getterå‡½æ•°çš„ options å¯¹è±¡ï¼›getterè®¾å®šäº†ä¸€ä¸ªæ ‡è¯†ï¼Œ passiveSupportedï¼Œè¢«è°ƒç”¨åå°±ä¼šæŠŠå…¶è®¾ä¸ºtrueã€‚é‚£æ„å‘³ç€å¦‚æœæµè§ˆå™¨æ£€æŸ¥ options å¯¹è±¡ä¸Šçš„ passive å€¼æ—¶ï¼Œ passiveSupported å°†ä¼šè¢«è®¾ç½®ä¸º trueï¼›å¦åˆ™å®ƒå°†ä¿æŒ falseã€‚ç„¶åæˆ‘ä»¬è°ƒç”¨ addEventListener() å»è®¾ç½®ä¸€ä¸ªæŒ‡å®šè¿™äº›é€‰é¡¹çš„ç©ºäº‹ä»¶å¤„ç†å™¨ï¼Œè¿™æ ·å¦‚æœæµè§ˆå™¨å°†ç¬¬ä¸‰ä¸ªå‚æ•°è®¤å®šä¸ºå¯¹è±¡çš„è¯ï¼Œè¿™äº›é€‰é¡¹å€¼å°±ä¼šè¢«æ£€æŸ¥ã€‚

eg. æ·»åŠ ä¸€ä¸ªç®€å•çš„ä¾¦å¬å™¨
```html
<table id="outside">    
    <tr><td id="t1">one</td></tr>
    <tr><td id="t2">two</td></tr>
</table>
```
```js
// 1 ä¸å¸¦ä»»ä½•å‚æ•°çš„å‡½æ•°
function modifyText() {                   // æ”¹å˜t2çš„å‡½æ•°
  var t2 = document.getElementById("t2");
  if (t2.firstChild.nodeValue == "three") {
    t2.firstChild.nodeValue = "two";
  } else {
    t2.firstChild.nodeValue = "three";
  }
}

// ä¸ºtableæ·»åŠ äº‹ä»¶ç›‘å¬å™¨
var el = document.getElementById("outside");
el.addEventListener("click", modifyText, false);
```
```js
// 2 å¸¦åŒ¿åå‡½æ•°çš„äº‹ä»¶ç›‘å¬å™¨
// æ”¹å˜t2å€¼çš„å‡½æ•°
function modifyText(new_text) {
  var t2 = document.getElementById("t2");
  t2.firstChild.nodeValue = new_text;    
}
 
// ä¸ºtableå¯¹è±¡æ·»åŠ äº‹ä»¶ç›‘å¬å™¨
var el = document.getElementById("outside");
el.addEventListener("click", function(){modifyText("four")}, false);
```
```js
// 3 å¸¦æœ‰ç®­å¤´å‡½æ•°çš„ç›‘å¬å™¨
// Function to change the content of t2
function modifyText(new_text) {
  var t2 = document.getElementById("t2");
  t2.firstChild.nodeValue = new_text;    
}
 
// Add event listener to table with an arrow function
var el = document.getElementById("outside");
el.addEventListener("click", () => { modifyText("four"); }, false);
```